## subquery
```sql
SELECT a1.* FROM store_information a1
WHERE a1.Sales > (SELECT AVG(Sales)AVG_SALES FROM store_information);
```
```SQL
CREATE TABLE above_average_sales
AS
WITH t1 AS(
    SELECT AVG(Sales) AVG_SALES	
    FROM store_information)
    SELECT a1.*
    FROM store_information a1, t1
    WHERE a1.Sales > t1.AVG_SALES;
```
```sql
SELECT SUM(Sales)
FROM store_information s
WHERE EXISTS
(SELECT* 
 FROM geography g
 WHERE region_name='wast' and s.Store_name=g.Store_name);
## `1120` create geography table
```
```sql
SELECT Store_Name, CASE Store_Name
WHEN 'los angles' THEN sales*2
WHEN 'San diego' THEN sales*1.5
ELSE sales
END
"New Sals",
Txn_Date
FROM store_information;
```
